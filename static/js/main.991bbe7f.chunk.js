(this.webpackJsonpherequest=this.webpackJsonpherequest||[]).push([[0],{114:function(e,t,a){e.exports=a(163)},137:function(e,t,a){},138:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);a(115);var n=a(0),r=a.n(n),o=a(7),s=a.n(o),i=a(24),l=a(13),c=a(14),u=a(16),m=a(15),p=a(6),d=a(19),h=a.n(d),g=(a(137),a(138),function(){return r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),f=a(20),v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleStartQuest=function(){n.props.onAnswer(null),n.props.history.push("/quests/tourism/".concat(n.props.match.params.id,"/questions"))},n.state={quest:{},loading:!0},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getQuest()}},{key:"getQuest",value:function(){var e=this,t=this.props.match.params.id;console.log(t),h.a.get("https://js-here.firebaseio.com/quests/tourism/".concat(t,".json")).then((function(e){return e.data})).then((function(t){e.props.onTitle(t.title),e.setState({quest:t,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=(e.vacancy,e.error);return window.scrollTo(0,0),t?r.a.createElement("div",null,"Error: ",t.message):r.a.createElement("div",{className:"container-vac-details"},this.state.loading?r.a.createElement(g,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"header-h"},this.state.quest.title),r.a.createElement("h5",{className:"city"},this.state.quest.city),r.a.createElement("div",{className:"item-vacancy"},r.a.createElement("img",{src:this.state.quest.img2,className:"quest-img",alt:""})),r.a.createElement("div",{className:"item-vacancy"},r.a.createElement("b",null," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430:"),r.a.createElement("br",null)," ",this.state.quest.description),r.a.createElement("div",{className:"item-vacancy"},r.a.createElement("b",null,"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f:")," ",this.state.quest.time),r.a.createElement("div",{className:"row div-row",style:{marginLeft:"0"}},r.a.createElement("button",{type:"button",className:"button-start-quest",onClick:this.handleStartQuest},"\u041d\u0430\u0447\u0430\u0442\u044c \u043a\u0432\u0435\u0441\u0442"))))}}]),a}(n.Component),b=Object(f.b)(null,(function(e){return{onAnswer:function(t){return e({type:"answer",value:t})},onTitle:function(t){return e({type:"questName",value:t})}}}))(v),E=a(50),y=(a(143),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).mapRef=n.createRef(),e.state={myCoordinate:null,map:null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.start(),setTimeout((function(){return e.refresh()}),900)}},{key:"start",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.setState({myCoordinate:{lat:t.coords.latitude,lng:t.coords.longitude,description:"\u041c\u043e\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f"}}),setTimeout((function(){return e.go()}),700)})):console.error("Geolocation is not supported by this browser!")}},{key:"go",value:function(){var e=window.H,t=new e.service.Platform({apikey:"ksTpcItxmjBO_GYj0B0e-ZQY8MLCuTPmPDI5nvz_ZKc"});navigator.geolocation.getCurrentPosition((function(e){console.log(e)}));var a=[this.state.myCoordinate];this.props.currentCoors.map((function(e){a.push(e)}));var n=t.createDefaultLayers(),r={lat:0,lng:0};a.map((function(e){r.lat+=e.lat/a.length,r.lng+=e.lng/a.length}));var o=new e.Map(this.mapRef.current,n.vector.normal.map,{center:r,zoom:13}),s=e.ui.UI.createDefault(o,n,"ru-RU"),i=new e.mapevents.MapEvents(o);new e.mapevents.Behavior(i);a.map((function(t){var a=new e.map.Marker(t);o.addObject(a),a.addEventListener("tap",(function(a){var n=new e.ui.InfoBubble(t,{content:"<p>".concat(t.description,"</p>")});s.addBubble(n)}))}));for(var l=0;l<a.length-1;l++){console.log(l);var c={routingMode:"fast",transportMode:"car",origin:a[l].lat+","+a[l].lng,destination:a[l+1].lat+","+a[l+1].lng,return:"polyline"};if(this.props.currentCoors.length>1)var u=function(t){t.routes.length&&t.routes[0].sections.forEach((function(t){var a=e.geo.LineString.fromFlexiblePolyline(t.polyline),n=new e.map.Polyline(a,{style:{lineWidth:10,strokeColor:"rgba(255, 0, 0, 0.7)",lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),r=new e.map.Polyline(a,{style:{lineWidth:7,fillColor:"white",strokeColor:"rgba(255, 255, 255, 1)",lineDash:[0,1],lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),s=new e.map.Group;s.addObjects([n,r]),o.addObjects([s])}))};else u=function(t){t.routes.length&&t.routes[0].sections.forEach((function(t){var a=e.geo.LineString.fromFlexiblePolyline(t.polyline),n=new e.map.Polyline(a,{style:{lineWidth:10,strokeColor:"rgba(0, 128, 255, 0.7)",lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),r=new e.map.Polyline(a,{style:{lineWidth:7,fillColor:"white",strokeColor:"rgba(255, 255, 255, 1)",lineDash:[0,1],lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),s=new e.map.Group;s.addObjects([n,r]),o.addObjects([s])}))};t.getRoutingService(null,8).calculateRoute(c,u,(function(e){alert(e.message)}))}o.addLayer(n.vector.normal.traffic),o.addLayer(n.vector.normal.trafficincidents),this.setState({map:o})}},{key:"componentWillUnmount",value:function(){null!==this.state.map&&this.state.map.dispose()}},{key:"routing1",value:function(){var e=this,t=window.H,a=new t.service.Platform({apikey:"ksTpcItxmjBO_GYj0B0e-ZQY8MLCuTPmPDI5nvz_ZKc"}),n=a.createDefaultLayers(),r=(t.ui.UI.createDefault(this.state.map,n,"ru-RU"),this.props.currentCoors[this.props.currentCoors.length-2]),o=null,s={routingMode:"fast",transportMode:"car",origin:(o=void 0===this.props.currentCoors[this.props.currentCoors.length-3]?this.state.myCoordinate:this.props.currentCoors[this.props.currentCoors.length-3]).lat+","+o.lng,destination:r.lat+","+r.lng,return:"polyline"};a.getRoutingService(null,8).calculateRoute(s,(function(a){a.routes.length&&a.routes[0].sections.forEach((function(a){var n=t.geo.LineString.fromFlexiblePolyline(a.polyline),r=new t.map.Polyline(n,{style:{lineWidth:10,strokeColor:"rgba(220,3,3,0.7)",lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),o=new t.map.Polyline(n,{style:{lineWidth:7,fillColor:"white",strokeColor:"rgba(255, 255, 255, 1)",lineDash:[0,1],lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),s=new t.map.Group;s.addObjects([r,o]),e.state.map.addObjects([s])}))}),(function(e){alert(e.message)}))}},{key:"routing2",value:function(){var e=this,t=this.state.map.getObjects()[this.state.map.getObjects().length-1];console.log(t);var a=window.H,n=new a.map.Marker(this.props.currentCoors[this.props.currentCoors.length-1]),r=new a.service.Platform({apikey:"ksTpcItxmjBO_GYj0B0e-ZQY8MLCuTPmPDI5nvz_ZKc"}),o=r.createDefaultLayers(),s=a.ui.UI.createDefault(this.state.map,o,"ru-RU");console.log(this.props.currentCoors[this.props.currentCoors.length-1]);var i=this.props.currentCoors[this.props.currentCoors.length-1];n.addEventListener("tap",(function(e){var t=new a.ui.InfoBubble(i,{content:"<p>".concat(i.description,"</p>")});s.addBubble(t)}));var l={routingMode:"fast",transportMode:"car",origin:this.props.currentCoors[this.props.currentCoors.length-2].lat+","+this.props.currentCoors[this.props.currentCoors.length-2].lng,destination:i.lat+","+i.lng,return:"polyline"};r.getRoutingService(null,8).calculateRoute(l,(function(t){t.routes.length&&t.routes[0].sections.forEach((function(t){var n=a.geo.LineString.fromFlexiblePolyline(t.polyline),r=new a.map.Polyline(n,{style:{lineWidth:10,strokeColor:"rgba(0, 128, 255, 0.7)",lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),o=new a.map.Polyline(n,{style:{lineWidth:7,fillColor:"white",strokeColor:"rgba(255, 255, 255, 1)",lineDash:[0,1],lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),s=new a.map.Group;s.addObjects([r,o]),e.state.map.addObjects([s])}))}),(function(e){alert(e.message)})),this.state.map.addObject(n)}},{key:"refresh",value:function(){this.props.isRefresh&&(this.routing2(),this.props.onRefresh(!1))}},{key:"render",value:function(){return n.createElement("div",{ref:this.mapRef,style:{height:"500px"}})}}]),a}(n.Component)),k=Object(f.b)((function(e){return{currentCoors:e.currentCoors,isRefresh:e.isRefresh}}),(function(e){return{onCoors:function(t){return e({type:"currentCoors",value:t})},onRefresh:function(t){return e({type:"isRefresh",value:t})}}}))(y),w=a(22),C=(a(144),a(195)),j=a(213),O=a(198),x=a(211),N=Object(f.b)((function(e){return{isRight:e.isRight,loadingTask:e.loadingTask,isDesc:e.isDesc,currentCoors:e.currentCoors}}),(function(e){return{onFlag:function(t){return e({type:"isRight",value:t})},onAnswer:function(t){return e({type:"answer",value:t})},onDesc:function(t){return e({type:"isDesc",value:t})},onCoors:function(t){return e({type:"currentCoors",value:t})},onLoading:function(t){return e({type:"loadingTask",value:t})}}}))((function(e){var t=r.a.useState(!1),a=Object(w.a)(t,2),n=a[0],o=a[1],s=r.a.useState(void 0),i=Object(w.a)(s,2),l=(i[0],i[1],{lat:e.task.x,lng:e.task.y,description:e.task.title});return setTimeout((function(){return e.onLoading(!1)}),600),r.a.createElement("div",null,e.loadingTask?r.a.createElement(g,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"header-task"},"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",e.task.id+1," \u0438\u0437 ",e.task.count),r.a.createElement("h5",{className:"question"},e.task.question),r.a.createElement(k,{coors:l}),e.isDesc?r.a.createElement("div",{className:"row div-row",style:{marginLeft:"0",marginTop:"20px"}},r.a.createElement(C.a,{component:"fieldset"},r.a.createElement("h5",{className:"question"},"\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u043e\u0442\u0432\u0435\u0442\u0430:"),r.a.createElement(j.a,{"aria-label":"gender",name:"gender1",value:e.answer,onChange:function(t){e.onAnswer(t.target.value),t.target.value===e.task.right.toString()?(e.onFlag(!0),o(!0)):(e.onFlag(!1),o(!1))}},r.a.createElement(O.a,{value:"1",control:r.a.createElement(x.a,null),label:e.task.var_1}),r.a.createElement(O.a,{value:"2",control:r.a.createElement(x.a,null),label:e.task.var_2}),r.a.createElement(O.a,{value:"3",control:r.a.createElement(x.a,null),label:e.task.var_3}),r.a.createElement(O.a,{value:"4",control:r.a.createElement(x.a,null),label:e.task.var_4})))):r.a.createElement("div",{className:"row div-row",style:{marginLeft:"0",marginTop:"20px"}},n?r.a.createElement("h5",{className:"error-description-green"},"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0438\u043b\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e!"):r.a.createElement("h5",{className:"error-description-red"},"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0438\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e!"),r.a.createElement("br",null),r.a.createElement("h6",{className:"question-description"},e.task.description))))})),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClick=function(){null===n.props.answer?n.setState({errorMes:!0}):(n.setState({errorMes:!1}),n.props.onDesc(!0),n.props.isRight&&n.props.onCountRightAns(n.props.countRightAns+1),n.state.isNext?(n.setState({buttonText:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441",isNext:!1}),n.props.onAnswer(null),n.state.curId===n.state.tasks.length-1?n.props.history.push("/quests/tourism/".concat(n.props.match.params.id,"/questions/result")):(n.state.curId=n.state.curId+1,n.getCurTask())):(n.state.curId===n.state.tasks.length-1?n.setState({buttonText:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u043a\u0432\u0435\u0441\u0442",isNext:!0}):n.setState({buttonText:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",isNext:!0}),n.props.onFlag(!1),n.props.onDesc(!1)))},n.state={errorMes:!1,buttonText:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441",isNext:!1,tasks:[],curTask:{},curId:0},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getTasks()}},{key:"getCurTask",value:function(){var e=this,t=this.props.match.params.id;h.a.get("https://js-here.firebaseio.com/quests/tourism/".concat(t,"/tasks/").concat(this.state.tasks[this.state.curId].id,".json")).then((function(e){return e.data})).then((function(t){e.setState({curTask:t}),e.setState({curTask:Object(E.a)(Object(E.a)({},e.state.curTask),{},{id:e.state.curId,count:e.state.tasks.length})}),e.props.onLoading(!0);var a={lat:t.x,lng:t.y,description:t.title};e.props.currentCoors.includes()||(e.props.currentCoors.push(a),e.props.onCoors(e.props.currentCoors),0!==e.state.curId&&e.props.onRefresh(!0))}))}},{key:"getTasks",value:function(){var e=this,t=this.props.match.params.id,a=[];this.props.onCoors([]),h.a.get("https://js-here.firebaseio.com/quests/tourism/".concat(t,"/tasks.json")).then((function(e){return e.data})).then((function(t){Object.keys(t).forEach((function(e,t){a.push({id:e,index:t})})),e.setState({tasks:a}),e.props.onCountQuestions(a.length),e.getCurTask(),console.log(a)}))}},{key:"render",value:function(){var e=this.state,t=e.curTask,a=e.error;return a?r.a.createElement("div",null,"Error: ",a.message):r.a.createElement("div",{className:"container-vac-details"},r.a.createElement(N,{task:t}),this.state.errorMes?r.a.createElement("div",{className:"error"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430"):null,r.a.createElement("button",{type:"button",className:"button-start-quest",onClick:this.handleClick},this.state.buttonText))}}]),a}(n.Component),q=Object(f.b)((function(e){return{isRight:e.isRight,answer:e.answer,countRightAns:e.countRightAns,currentCoors:e.currentCoors}}),(function(e){return{onFlag:function(t){return e({type:"isRight",value:t})},onDesc:function(t){return e({type:"isDesc",value:t})},onCountRightAns:function(t){return e({type:"countRightAns",value:t})},onCountQuestions:function(t){return e({type:"countQuestions",value:t})},onCoors:function(t){return e({type:"currentCoors",value:t})},onRefresh:function(t){return e({type:"isRefresh",value:t})},onLoading:function(t){return e({type:"loadingTask",value:t})},onAnswer:function(t){return e({type:"answer",value:t})}}}))(T),R=(a(48),a(145),Object(p.f)((function(e){Object(p.e)();return window.scrollTo(0,0),r.a.createElement("div",{className:"div"},r.a.createElement("div",{className:"header-how"},"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u0433\u0435\u043e\u043a\u0432\u0435\u0441\u0442?"),r.a.createElement("p",null,"\u0413\u0435\u043e\u043a\u0432\u0435\u0441\u0442 \u2014 \u044d\u0442\u043e \u0443\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u0433\u0440\u0430 \u2014 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435, \u0441\u043e\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0438\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u0442\u0430\u043f\u043e\u0432, \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0412\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b, \u043d\u0430\u0439\u0442\u0438 \u043e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b (\u043f\u0430\u043c\u044f\u0442\u043d\u0438\u043a\u0438, \u0442\u0430\u0431\u043b\u0438\u0447\u043a\u0438, \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0438 \u0442.\u043f.)."),r.a.createElement("p",null,"\u0413\u0435\u043e\u043a\u0432\u0435\u0441\u0442 \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u0412\u0430\u043c \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u043d\u043e\u0432\u044b\u043c \u0433\u043e\u0440\u043e\u0434\u043e\u043c \u0432 \u0438\u0433\u0440\u043e\u0432\u043e\u0439 \u0444\u043e\u0440\u043c\u0435."))})));a(147);var M=function(){return window.scrollTo(0,0),r.a.createElement("div",{className:"div"})},S=(a(148),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={quest:{},loading:!0},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.error;return window.scrollTo(0,0),e?r.a.createElement("div",null,"Error: ",e.message):r.a.createElement("div",{className:"container-vac-details"},r.a.createElement("h3",{className:"header-h"},'\u041a\u0432\u0435\u0441\u0442 "',this.props.questName,'" \u043f\u0440\u043e\u0439\u0434\u0435\u043d!'),r.a.createElement("h5",{className:"city"},"\u0412\u0430\u0448 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: ",this.props.countRightAns," / ",this.props.countQuestions))}}]),a}(n.Component)),P=Object(f.b)((function(e){return{countRightAns:e.countRightAns,countQuestions:e.countQuestions,questName:e.questName}}),(function(e){return{onAnswer:function(t){return e({type:"answer",value:t})}}}))(S),Q=a(26),D=a(200),I=a(201),L=a(199),A=a(52),B=a(214),W=a(215),_=a(97),F=a.n(_),H=a(210),G=a(29),z=a(98),U=a.n(z),Y=a(5),Z=(a(149),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null,mobileMoreAnchorEl:null,profileMenuAnchorEl:null},e.handleMenuOpen=function(t){e.setState({anchorEl:t.currentTarget})},e.handleMenuClose=function(){e.setState({anchorEl:null}),e.handleMobileMenuClose()},e.handleMobileMenuOpen=function(t){e.setState({mobileMoreAnchorEl:t.currentTarget})},e.handleMobileMenuClose=function(){e.setState({mobileMoreAnchorEl:null})},e.handleProfileMenuOpen=function(t){e.setState({profileMenuAnchorEl:t.currentTarget})},e.handleProfileMenuClose=function(){e.setState({profileMenuAnchorEl:null})},e.goToSearchPage=function(e){e.preventDefault(),e.target.id,e.target.id},e.handleClickHomePage=function(t){e.handleMenuClose(),e.props.history.push("/")},e.handleClickEnterPage=function(t){e.handleMenuClose(),e.signInRedirect()},e.handleGoToProfile=function(t){e.handleProfileMenuClose(),e.handleMenuClose()},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=(e.anchorEl,e.mobileMoreAnchorEl),a=e.profileMenuAnchorEl,n=this.props.classes,o=r.a.createElement(H.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,id:"primary-search-account-menu",transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(a),onClose:this.handleProfileMenuClose},r.a.createElement(W.a,{onClick:this.handleGoToProfile},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement(W.a,null,"\u0412\u044b\u0439\u0442\u0438")),s=r.a.createElement("div",{className:n.sectionDesktop},this.props.user?r.a.createElement(F.a,{className:"account-circle",onClick:this.handleProfileMenuOpen}):r.a.createElement("div",{className:"signInBtn",onClick:this.signInRedirect},"\u0412\u043e\u0439\u0442\u0438")),i=r.a.createElement(H.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(t),onClose:this.handleMobileMenuClose},r.a.createElement(W.a,{onClick:this.handleClickHomePage},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{onClick:this.handleGoToProfile},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement(W.a,null,"\u0412\u044b\u0439\u0442\u0438")):r.a.createElement(W.a,{onClick:this.handleClickEnterPage},"\u0412\u043e\u0439\u0442\u0438"));return r.a.createElement("div",{className:n.root,id:"NavBar"},r.a.createElement(D.a,{className:"navbar-background",position:"fixed"},r.a.createElement(I.a,null,r.a.createElement(A.a,{className:n.title,variant:"h6",onClick:this.handleClickHomePage,noWrap:!0},r.a.createElement("img",{src:"./images/logo.png",style:{height:"32px"},alt:""})),r.a.createElement("div",{className:n.sectionDesktop},r.a.createElement("form",{className:"form-inline",id:"desktop",onSubmit:this.goToSearchPage},r.a.createElement("div",{className:n.search},r.a.createElement(B.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u043a\u0432\u0435\u0441\u0442\u043e\u0432",id:"search-str-desktop",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement("button",{className:"button-search",type:"submit"},"\u041f\u043e\u0438\u0441\u043a"))),r.a.createElement("div",{className:n.sectionMobile},r.a.createElement(L.a,{edge:"start","aria-label":"show more","aria-controls":this.mobileMenuId,"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},r.a.createElement(U.a,null)),r.a.createElement("form",{className:"form-inline",id:"mobile",onSubmit:this.goToSearchPage},r.a.createElement("div",{className:n.search},r.a.createElement(B.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439",id:"search-str-mobile",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}})))),s)),i,o)}}]),a}(r.a.Component)),K=Object(p.f)(Object(Y.a)((function(e){return{root:{flexGrow:1},navbarBackgroundColor:{backgroundColor:"rgb(20, 102, 202)"},menuButton:{marginRight:e.spacing(2)},title:Object(Q.a)({flexGrow:1,cursor:"pointer",color:"white",display:"none",fontWeight:"bold",fontFamily:"Black Square"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Q.a)({position:"relative",color:"white",borderRadius:e.shape.borderRadius,backgroundColor:Object(G.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(G.b)(e.palette.common.white,.25)},marginLeft:0},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Q.a)({padding:e.spacing(1,1,1,7),paddingLeft:"8px",transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:123,"&:focus":{width:200}}),sectionMobile:Object(Q.a)({color:"white",display:"flex"},e.breakpoints.up("md"),{display:"none"}),sectionDesktop:Object(Q.a)({color:"white",display:"none"},e.breakpoints.up("md"),{display:"flex"})}}))(Z)),X=(a(151),a(55)),J=a(202),V=(a(152),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).goToSearchPage=function(e){e.preventDefault(),n.props.history.push("/searchvac/"+document.getElementById("search_str").value)},n.handleQuest=function(){n.props.history.push("/aboutquest")},n.toggleNavbar=n.toggleNavbar.bind(Object(X.a)(n)),n.state={collapsed:!0,results:null},n}return Object(c.a)(a,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement("div",{className:"footer-background"},r.a.createElement("div",{className:"footer-row row",style:{margin:"0 auto"}},r.a.createElement("div",{className:"col-sm-3 footer-colm"},r.a.createElement("h6",{className:"footer-headers"},"MayDay"),r.a.createElement(J.a,{tag:i.b,className:"footer-link",to:"/"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),r.a.createElement("div",{className:"footer-link-div",onClick:this.handleQuest},"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u0433\u0435\u043e\u043a\u0432\u0435\u0441\u0442")),r.a.createElement("div",{className:"col-sm-3 footer-colm"},r.a.createElement("h6",{className:"footer-headers"},"\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u0441\u043e\u0432\u0435\u0442\u044b"),r.a.createElement(J.a,{tag:i.b,className:"footer-link",to:"/howtomakeresume"},"\u041a\u0430\u043a \u043f\u0440\u043e\u0439\u0442\u0438 \u043a\u0432\u0435\u0441\u0442?")),r.a.createElement("div",{className:"col-sm-3 footer-colm"},r.a.createElement("h6",{className:"footer-headers"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),r.a.createElement("div",{className:"footer-email word"},"mayday@gmail.com")),r.a.createElement("div",{className:"col-sm-3 footer-colm"},r.a.createElement("h6",{className:"footer-headers"},"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438"),r.a.createElement("div",{className:"footer-link-div"},r.a.createElement("a",{target:"_blank",href:"https://vk.com/studjent"},"\u041c\u044b \u0432 \u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435")))),r.a.createElement("div",{className:"footer-row row",style:{margin:"0 auto"}},r.a.createElement("h6",{className:"footer-copyright"},"Copyright 2020 MayDay all rights reserved")))}}]),a}(n.Component)),$=Object(p.f)(V),ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-container"},r.a.createElement(K,{className:"main-navbar"}),r.a.createElement("div",{className:"main-section"},this.props.children),r.a.createElement($,{className:"main-footer"}))}}]),a}(n.Component);ee.displayName=ee.name;var te=a(212),ae=(a(153),[{src:"images/carousel4_.jpg",altText:"\u0415\u0441\u043b\u0438 \u0442\u044b \u0445\u043e\u0447\u0435\u0448\u044c \u0445\u043e\u0440\u043e\u0448\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0432\u0435\u0440\u043c\u044f \u0438 \u0443\u0437\u043d\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0433\u043e\u0440\u043e\u0434, \u0442\u043e \u043d\u0430\u0448 \u0441\u0430\u0439\u0442 \u0441\u043e\u0437\u0434\u0430\u043d \u0434\u043b\u044f \u0442\u0435\u0431\u044f",header:"\u0415\u0441\u043b\u0438 \u0442\u044b \u0445\u043e\u0447\u0435\u0448\u044c \u0445\u043e\u0440\u043e\u0448\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0432\u0435\u0440\u043c\u044f \u0438 \u0443\u0437\u043d\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0433\u043e\u0440\u043e\u0434, \u0442\u043e \u043d\u0430\u0448 \u0441\u0430\u0439\u0442 \u0441\u043e\u0437\u0434\u0430\u043d \u0434\u043b\u044f \u0442\u0435\u0431\u044f",key:"1"},{src:"images/carousel2_.jpg",altText:"GeoQuest \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0412\u0430\u043c \u0432\u044b\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0438\u0437 \u043a\u043e\u043c\u043d\u0430\u0442\u044b!",header:"GeoQuest \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0412\u0430\u043c \u0432\u044b\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0438\u0437 \u043a\u043e\u043c\u043d\u0430\u0442\u044b!",key:"2"},{src:"images/carousel3_.jpg",altText:"GeoQuest - \u043e\u0442\u043b\u0438\u0447\u043d\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043e\u0442\u0434\u044b\u0445\u0430 \u0441 \u0441\u0435\u043c\u044c\u0451\u0439 \u0438 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438",header:"GeoQuest - \u043e\u0442\u043b\u0438\u0447\u043d\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043e\u0442\u0434\u044b\u0445\u0430 \u0441 \u0441\u0435\u043c\u044c\u0451\u0439 \u0438 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438",key:"3"}]),ne=function(){return r.a.createElement(te.a,{items:ae})},re=a(203),oe=a(4),se=a(204),ie=a(205),le=a(206),ce=a(207),ue=a(208),me=a(216),pe=a(63),de=a.n(pe),he=a(64),ge=a.n(he),fe=(a(160),Object(re.a)((function(e){return{root:{width:window.screen.availWidth>320?"340px":"280px",maxWidth:350,margin:"5px",zIndex:0,display:"inline-block",borderRadius:"10px"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{width:e.spacing(7),height:e.spacing(7),color:"white",backgroundColor:"#0095a8"},cardHeader:{"&:hover":{cursor:"pointer"}},message:{backgroundColor:"white",width:"95%",borderRadius:"10px",boxShadow:"0px 2px 2px #c2bebe",margin:"auto",paddingTop:"19px",paddingBottom:"10px",textAlign:"center"}}})));var ve=Object(p.f)((function(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),o=(a[0],a[1],fe()),s=(r.a.useRef(null),r.a.useRef(null),r.a.useState(!1)),i=Object(w.a)(s,2),l=i[0],c=i[1],u=r.a.useState(null),m=Object(w.a)(u,2),d=m[0],g=m[1],f=Object(p.e)(),v=r.a.useState(!0),b=Object(w.a)(v,2),E=b[0],y=(b[1],r.a.useState(null)),k=Object(w.a)(y,2),C=k[0],j=k[1],O=e.quest.id;h.a.get("https://js-here.firebaseio.com/quests/tourism/".concat(e.quest.id,".json")).then((function(e){return e.data})).then((function(e){j(e)}));var x=r.a.createElement(H.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,id:"primary-search-account-menu",transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(d),onClose:function(){g(null)}},r.a.createElement(W.a,null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement(W.a,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"));return r.a.createElement(r.a.Fragment,null,!0===E?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:o.root,id:"card"},r.a.createElement(ie.a,{className:o.cardHeader,avatar:r.a.createElement(me.a,{"aria-label":"recipe",className:o.avatar},null!==C?C.city.slice(0,1):null),action:r.a.createElement(r.a.Fragment,null,e&&"profile"===e.pagePurpose?r.a.createElement(L.a,{"aria-label":"settings"},r.a.createElement(de.a,null)):null),title:r.a.createElement(A.a,{onClick:function(){return f.push("/quests/tourism/".concat(O))},variant:"body2",color:"textSecondary",component:"p"},null!==C?C.city:null)}),r.a.createElement(ie.a,{className:o.cardHeader,onClick:function(){return f.push("/quests/tourism/".concat(O))},title:r.a.createElement(A.a,{variant:"h6",component:"p"},null!==C?C.title:null)}),r.a.createElement("div",{onClick:function(){return f.push("/quests/tourism/".concat(O))},className:"card-content"},r.a.createElement(le.a,null,r.a.createElement(A.a,{variant:"body2",component:"p"},"\u0412\u0440\u0435\u043c\u044f: ",null!==C?C.time:null)),r.a.createElement(le.a,null,r.a.createElement(A.a,{variant:"body2",component:"p"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",null!==C?C.rating:null," / 10"))),r.a.createElement(ce.a,{disableSpacing:!0},r.a.createElement(L.a,{className:Object(oe.a)(o.expand,Object(Q.a)({},o.expandOpen,l)),onClick:function(){c(!l)},"aria-expanded":l,"aria-label":"show more"},r.a.createElement(ge.a,null))),r.a.createElement(ue.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(le.a,null,r.a.createElement(A.a,{paragraph:!0}),r.a.createElement(A.a,{paragraph:!0},null!==C?C.description:null))),x)):null)})),be=a(209),Ee=(a(161),Object(re.a)((function(e){return{root:{width:window.screen.availWidth>320?"340px":"280px",maxWidth:350,margin:"5px",zIndex:0,display:"inline-block",borderRadius:"10px"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{width:e.spacing(7),height:e.spacing(7),color:"white",backgroundColor:"#0095a8"},cardHeader:{"&:hover":{cursor:"pointer"}},message:{backgroundColor:"white",width:"95%",borderRadius:"10px",boxShadow:"0px 2px 2px #c2bebe",margin:"auto",paddingTop:"19px",paddingBottom:"10px",textAlign:"center"}}})));var ye=Object(p.f)((function(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),o=(a[0],a[1],Ee()),s=(r.a.useRef(null),r.a.useRef(null),r.a.useState(!1)),i=Object(w.a)(s,2),l=i[0],c=i[1],u=r.a.useState(null),m=Object(w.a)(u,2),d=m[0],g=m[1],f=Object(p.e)(),v=r.a.useState(!0),b=Object(w.a)(v,2),E=b[0],y=(b[1],r.a.useState(null)),k=Object(w.a)(y,2),C=k[0],j=k[1],O=e.quest.id;h.a.get("https://js-here.firebaseio.com/quests/riddle/".concat(e.quest.id,".json")).then((function(e){return e.data})).then((function(e){j(e)}));var x=r.a.createElement(H.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,id:"primary-search-account-menu",transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(d),onClose:function(){g(null)}},r.a.createElement(W.a,null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement(W.a,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"));return r.a.createElement(r.a.Fragment,null,!0===E?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{className:o.root,id:"card"},r.a.createElement(ie.a,{className:o.cardHeader,avatar:r.a.createElement(me.a,{"aria-label":"recipe",className:o.avatar},null!==C?C.city.slice(0,1):null),action:r.a.createElement(r.a.Fragment,null,e&&"profile"===e.pagePurpose?r.a.createElement(L.a,{"aria-label":"settings"},r.a.createElement(de.a,null)):null),title:r.a.createElement(A.a,{onClick:function(){return f.push("/quests/riddle/".concat(O))},variant:"body2",color:"textSecondary",component:"p"},null!==C?C.city:null)}),r.a.createElement(ie.a,{className:o.cardHeader,onClick:function(){return f.push("/quests/riddle/".concat(O))},title:r.a.createElement(A.a,{variant:"h6",component:"p"},null!==C?C.title:null)}),r.a.createElement("div",{onClick:function(){return f.push("/quests/riddle/".concat(O))},className:"card-content"},r.a.createElement(le.a,null,r.a.createElement(A.a,{variant:"body2",component:"p"},"\u0412\u0440\u0435\u043c\u044f: ",null!==C?C.time:null)),r.a.createElement(le.a,null,r.a.createElement(A.a,{variant:"body2",component:"p"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",null!==C?C.rating:null," / 10"))),r.a.createElement(ce.a,{disableSpacing:!0},r.a.createElement(L.a,{className:Object(oe.a)(o.expand,Object(Q.a)({},o.expandOpen,l)),onClick:function(){c(!l)},"aria-expanded":l,"aria-label":"show more"},r.a.createElement(ge.a,null))),r.a.createElement(ue.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(le.a,null,r.a.createElement(A.a,{paragraph:!0}),r.a.createElement(A.a,{paragraph:!0},null!==C?C.description:null))),x)):null)})),ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state=n.state={error:null,questsTourism:[],questsPopular:[],questsRiddle:[],questsTeam:[],loadingQuestsTourism:!0,loadingQuestsPopular:!0,loadingQuestsRiddle:!0,loadingQuestsTeam:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getQuestsTourism(),this.getQuestsPopular(),this.getQuestsRiddle(),this.getQuestsTeam()}},{key:"getQuestsTourism",value:function(){var e=this,t=[];h.a.get("https://js-here.firebaseio.com/quests/tourism.json").then((function(e){return e.data})).then((function(a){Object.keys(a).forEach((function(e,a){t.push({id:e,index:a})})),e.setState({loadingQuestsTourism:!1}),e.props.onQuestsTourism(t)}),(function(t){return e.setState({error:t})}))}},{key:"getQuestsPopular",value:function(){var e=this,t=[];h.a.get("https://js-here.firebaseio.com/quests/tourism.json").then((function(e){return e.data})).then((function(a){Object.keys(a).forEach((function(e,a){t.push({id:e,index:a})})),t.map((function(t){e.props.questsPopular.push(t)})),e.setPop()}),(function(t){return e.setState({error:t})}))}},{key:"setPop",value:function(){var e=this,t=[];this.props.questsPopular.map((function(a){h.a.get("https://js-here.firebaseio.com/quests/tourism/".concat(a.id,".json")).then((function(e){return e.data})).then((function(a){t.push(a),e.setState({questsPopular:t})}))}))}},{key:"getQuestsRiddle",value:function(){var e=this,t=[];h.a.get("https://js-here.firebaseio.com/quests/riddle.json").then((function(e){return e.data})).then((function(a){console.log(a),Object.keys(a).forEach((function(e,a){t.push({id:e,index:a})})),console.log(t),e.props.onQuestsRiddle(t),e.setState({loadingQuestsRiddle:!1}),e.setState({loadingQuestsPopular:!1})}),(function(t){return e.setState({error:t})}))}},{key:"getQuestsTeam",value:function(){}},{key:"render",value:function(){window.scrollTo(0,0);var e=this.state.error,t=window.screen.availWidth>=2560?7:8;return e?r.a.createElement("div",null,"Error: ",e.message):r.a.createElement("div",{className:"page-container"},window.screen.availWidth<=768?r.a.createElement("div",{className:"image-mobile",id:"image-mob"},"\u0415\u0441\u043b\u0438 \u0442\u044b \u0445\u043e\u0447\u0435\u0448\u044c \u0445\u043e\u0440\u043e\u0448\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0432\u0435\u0440\u043c\u044f \u0438 \u0443\u0437\u043d\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0433\u043e\u0440\u043e\u0434, \u0442\u043e \u043d\u0430\u0448 \u0441\u0430\u0439\u0442 \u0441\u043e\u0437\u0434\u0430\u043d \u0434\u043b\u044f \u0442\u0435\u0431\u044f"):r.a.createElement("div",{className:"hide-0-to-768"},r.a.createElement(ne,null)),r.a.createElement("div",{className:"gradient-background"},r.a.createElement("div",{className:"text-container"},r.a.createElement("h1",{className:"caption-text"},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043a\u0432\u0435\u0441\u0442\u044b")),this.state.loadingQuestsTourism?r.a.createElement(g,null):null,r.a.createElement(be.a,{container:!0,justify:"center",className:"margin-bottom"},this.props.questsTourism.sort((function(e,t){return e.rating-t.rating})).slice(0,t).map((function(e,t){Math.round(1/(t+1)*100);return r.a.createElement(be.a,{key:t,item:!0,style:{width:window.screen.availWidth>320?"311px":"250px",marginRight:"40px",marginLeft:"0px"}},r.a.createElement(ve,{quest:e}))}))),r.a.createElement("div",{className:"text-container"},r.a.createElement("h1",{className:"caption-text"},"\u0417\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u043e \u0441 \u0433\u043e\u0440\u043e\u0434\u043e\u043c")),this.state.loadingQuestsTourism?r.a.createElement(g,null):null,r.a.createElement(be.a,{container:!0,justify:"center",className:"margin-bottom"},this.props.questsTourism.slice(0,t).map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=Math.round(1/(t+1)*100);return r.a.createElement(be.a,{key:t,item:!0,style:{width:window.screen.availWidth>320?"311px":"250px",marginRight:"40px",marginLeft:"0px",zIndex:a}},r.a.createElement(ve,{quest:e,index:t}))}))),r.a.createElement("div",{className:"text-container"},r.a.createElement("h1",{className:"caption-text"},"\u0417\u0430\u0433\u0430\u0434\u043a\u0438")),this.state.loadingQuestsRiddle?r.a.createElement(g,null):null,r.a.createElement(be.a,{container:!0,justify:"center",className:"margin-bottom"},this.props.questsRiddle.slice(0,t).map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=Math.round(1/(t+1)*100);return r.a.createElement(be.a,{key:t,item:!0,style:{width:window.screen.availWidth>320?"311px":"250px",marginRight:"40px",marginLeft:"0px",zIndex:a}},r.a.createElement(ye,{quest:e}))}))),r.a.createElement("div",{className:"text-container"},r.a.createElement("h1",{className:"caption-text"},"\u041a\u043e\u043c\u0430\u043d\u0434\u043d\u044b\u0435 \u043a\u0432\u0435\u0441\u0442\u044b")),this.state.loadingQuestsTeam?r.a.createElement(g,null):null,r.a.createElement(be.a,{container:!0,justify:"center",className:"margin-bottom"},this.state.questsTeam.slice(0,t).map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=Math.round(1/(t+1)*100);return r.a.createElement(be.a,{key:t,item:!0,style:{width:window.screen.availWidth>320?"311px":"250px",marginRight:"40px",marginLeft:"0px",zIndex:a}},r.a.createElement(ve,{quest:e}))})))))}}]),a}(r.a.Component),we=Object(f.b)((function(e){return{questsTourism:e.questsTourism,questsRiddle:e.questsRiddle,questsPopular:e.questsPopular,questsTeam:e.questsTeam}}),(function(e){return{onQuestsTourism:function(t){return e({type:"questsTourism",value:t})},onQuestsRiddle:function(t){return e({type:"questsRiddle",value:t})},onQuestsPopular:function(t){return e({type:"questsPopular",value:t})},onQuestsTeam:function(t){return e({type:"questsTeam",value:t})}}}))(ke),Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleStartQuest=function(){n.props.onAnswer(null),n.props.history.push("/quests/riddle/".concat(n.props.match.params.id,"/questions"))},n.state={quest:{},loading:!0},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getQuest()}},{key:"getQuest",value:function(){var e=this,t=this.props.match.params.id;console.log(t),h.a.get("https://js-here.firebaseio.com/quests/riddle/".concat(t,".json")).then((function(e){return e.data})).then((function(t){e.props.onTitle(t.title),e.setState({quest:t,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=(e.vacancy,e.error);return window.scrollTo(0,0),t?r.a.createElement("div",null,"Error: ",t.message):r.a.createElement("div",{className:"container-vac-details"},this.state.loading?r.a.createElement(g,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"header-h"},this.state.quest.title),r.a.createElement("h5",{className:"city"},this.state.quest.city),r.a.createElement("div",{className:"item-vacancy"},r.a.createElement("img",{src:this.state.quest.img1,className:"quest-img",alt:""})),r.a.createElement("div",{className:"item-vacancy"},r.a.createElement("b",null," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430:"),r.a.createElement("br",null)," ",this.state.quest.description),r.a.createElement("div",{className:"item-vacancy"},r.a.createElement("b",null,"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f:")," ",this.state.quest.time),r.a.createElement("div",{className:"row div-row",style:{marginLeft:"0"}},r.a.createElement("button",{type:"button",className:"button-start-quest",onClick:this.handleStartQuest},"\u041d\u0430\u0447\u0430\u0442\u044c \u043a\u0432\u0435\u0441\u0442"))))}}]),a}(n.Component),je=Object(f.b)(null,(function(e){return{onAnswer:function(t){return e({type:"answer",value:t})},onTitle:function(t){return e({type:"questName",value:t})}}}))(Ce),Oe=a(74),xe=a.n(Oe),Ne=a(99),Te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).mapRef=n.createRef(),e.state={myCoordinate:null,map:null,teaser:null},e}return Object(c.a)(a,[{key:"getDistanceFromLatLonInM",value:function(e,t,a,n){var r=this.deg2rad(a-e),o=this.deg2rad(n-t),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(a))*Math.sin(o/2)*Math.sin(o/2);return 1e3*(6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))))}},{key:"deg2rad",value:function(e){return e*(Math.PI/180)}},{key:"componentDidMount",value:function(){this.start()}},{key:"start",value:function(){var e=this;this.setState({teaser:{lat:55.979236,lng:37.158384,description:"\u0417\u0430\u0433\u0430\u0434\u043a\u0430"}}),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.setState({myCoordinate:{lat:t.coords.latitude,lng:t.coords.longitude,description:"\u041c\u043e\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f"}}),e.go()})):console.error("Geolocation is not supported by this browser!")}},{key:"go",value:function(){var e=window.H,t=new e.service.Platform({apikey:"ksTpcItxmjBO_GYj0B0e-ZQY8MLCuTPmPDI5nvz_ZKc"}),a=[this.state.myCoordinate,{lat:55.986281,lng:37.1705789,description:"\u041c\u0443\u0437\u0435\u0439 \u0417\u0435\u043b\u0435\u043d\u043e\u0433\u0440\u0430\u0434\u0430"},{lat:55.9831656,lng:37.2099016,description:"\u041d\u0418\u0423 \u041c\u0418\u042d\u0422"},{lat:55.992649,lng:37.2195338,description:"\u0424\u043b\u0435\u0439\u0442\u0430"},{lat:55.9985958,lng:37.2247743,description:"\u041e\u0431\u0449\u0435\u0436\u0438\u0442\u0438\u0435 \u041c\u0418\u042d\u0422"}],n=t.createDefaultLayers(),r={lat:0,lng:0};a.map((function(e){r.lat+=e.lat/a.length,r.lng+=e.lng/a.length}));var o=new e.Map(this.mapRef.current,n.vector.normal.map,{center:this.state.teaser,zoom:15});console.log(this.state.teaser.lat+" "+this.state.teaser.lng);e.ui.UI.createDefault(o,n,"ru-RU");var s=new e.mapevents.MapEvents(o);new e.mapevents.Behavior(s);o.addLayer(n.vector.normal.traffic),o.addLayer(n.vector.normal.trafficincidents),this.setState({map:o}),this.refreshMap()}},{key:"refreshMap",value:function(){var e=Object(Ne.a)(xe.a.mark((function e(){var t,a,n,r,o,s,i,l,c,u,m=this;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.getDistanceFromLatLonInM(this.state.myCoordinate.lat,this.state.myCoordinate.lng,this.state.teaser.lat,this.state.teaser.lng)<30)){e.next=4;break}alert("You are Winner!"),e.next=23;break;case 4:return t=window.H,a=new t.service.Platform({apikey:"ksTpcItxmjBO_GYj0B0e-ZQY8MLCuTPmPDI5nvz_ZKc"}),n=a.createDefaultLayers(),r=t.ui.UI.createDefault(this.state.map,n,"ru-RU"),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){m.setState({myCoordinate:{lat:e.coords.latitude,lng:e.coords.longitude,description:"\u041c\u043e\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f"}});var a=new t.map.Marker(m.state.teaser);m.state.map.addObject(a);var n=new t.map.Marker(m.state.myCoordinate),o=m.state.myCoordinate;n.addEventListener("tap",(function(e){var a=new t.ui.InfoBubble(o,{content:"<p>".concat(o.description,"</p>")});r.addBubble(a)})),m.state.map.addObject(n)})):console.error("Geolocation is not supported by this browser!"),637100,o=this.getDistanceFromLatLonInM(this.state.myCoordinate.lat,this.state.myCoordinate.lng,this.state.teaser.lat,this.state.teaser.lng)/637100,s=2*(o/6),i=Math.random()%360,l=this.state.teaser.lat+Math.cos(i)*s,c=this.state.teaser.lng+Math.sin(i)*s,console.log(l+" "+c+" "+637100*s+" "+637100*o),u=new t.map.Circle(new t.geo.Point(l,c),637100*s,{style:{fillColor:"rgba(221, 0, 255, 0.66)"}}),this.state.map.removeObjects(this.state.map.getObjects()),this.state.map.addObject(u),e.next=22,new Promise((function(e){return setTimeout(e,1e4)}));case 22:this.refreshMap();case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.map.dispose()}},{key:"render",value:function(){return n.createElement("div",{ref:this.mapRef,style:{height:"500px"}})}}]),a}(n.Component),qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClick=function(){null===n.props.answer?n.setState({errorMes:!0}):(n.setState({errorMes:!1}),n.props.onDesc(!0),n.props.isRight&&n.props.onCountRightAns(n.props.countRightAns+1),n.state.isNext?(n.setState({buttonText:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441",isNext:!1}),n.state.curId===n.state.tasks.length-1?n.props.history.push("/quests/tourism/".concat(n.props.match.params.id,"/questions/result")):(n.state.curId=n.state.curId+1,n.getCurTask())):(n.state.curId===n.state.tasks.length-1?n.setState({buttonText:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u043a\u0432\u0435\u0441\u0442",isNext:!0}):n.setState({buttonText:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",isNext:!0}),n.props.onFlag(!1),n.props.onDesc(!1)))},n.state={errorMes:!1,buttonText:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441",isNext:!1,tasks:[],curTask:{},curId:0,loading:!0},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getTasks()}},{key:"getTasks",value:function(){var e=this,t=this.props.match.params.id;h.a.get("https://js-here.firebaseio.com/quests/riddle/".concat(t,".json")).then((function(e){return e.data})).then((function(t){e.setState({tasks:t,loading:!1}),e.props.onCountQuestions(1)}))}},{key:"render",value:function(){var e=this.state,t=(e.curTask,e.error);return t?r.a.createElement("div",null,"Error: ",t.message):r.a.createElement("div",{className:"container-vac-details"},this.state.loading?r.a.createElement(g,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"header-task"},this.state.tasks.title),r.a.createElement("h5",{className:"question"},this.state.tasks.description_task),r.a.createElement(Te,null)))}}]),a}(n.Component),Re=Object(f.b)((function(e){return{isRight:e.isRight,answer:e.answer,countRightAns:e.countRightAns,currentCoors:e.currentCoors}}),(function(e){return{onFlag:function(t){return e({type:"isRight",value:t})},onDesc:function(t){return e({type:"isDesc",value:t})},onCountRightAns:function(t){return e({type:"countRightAns",value:t})},onCountQuestions:function(t){return e({type:"countQuestions",value:t})},onCoors:function(t){return e({type:"currentCoors",value:t})},onRefresh:function(t){return e({type:"isRefresh",value:t})}}}))(qe),Me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(ee,null,r.a.createElement(p.a,{exact:!0,path:"/",component:we}),r.a.createElement(p.a,{exact:!0,path:"/aboutquest",component:R}),r.a.createElement(p.a,{exact:!0,path:"/aboutus",component:M}),r.a.createElement(p.a,{exact:!0,path:"/quests/tourism/:id",component:b}),r.a.createElement(p.a,{exact:!0,path:"/quests/riddle/:id",component:je}),r.a.createElement(p.a,{exact:!0,path:"/quests/riddle/:id/questions",component:Re}),r.a.createElement(p.a,{exact:!0,path:"/quests/tourism/:id/questions",component:q}),r.a.createElement(p.a,{exact:!0,path:"/quests/tourism/:id/questions/result",component:P}))}}]),a}(n.Component);Me.displayName=Me.name;var Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Qe={isRight:"",user:null,role:"",answer:null,isDesc:!0,questsTourism:[],questsPopular:[],questsRiddle:[],questsTeam:[],countRightAns:0,countQuestions:0,questName:null,currentCoors:[],isRefresh:!1,loadingTask:!0},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0,a=Object(E.a)({},e);switch(t.type){case"isRight":a.isRight=t.value;break;case"role":a.role=t.value;break;case"answer":a.answer=t.value;break;case"isDesc":a.isDesc=t.value;break;case"questsTourism":a.questsTourism=t.value;break;case"questsPopular":a.questsPopular=t.value;break;case"questsRiddle":a.questsRiddle=t.value;break;case"questsTeam":a.questsTeam=t.value;break;case"countRightAns":a.countRightAns=t.value;break;case"countQuestions":a.countQuestions=t.value;break;case"questName":a.questName=t.value;break;case"currentCoors":a.currentCoors=t.value;break;case"isRefresh":a.isRefresh=t.value;break;case"loadingTask":a.loadingTask=t.value}return a},Ie=a(56),Le=Object(Ie.b)(De,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ae=document.getElementsByTagName("base")[0].getAttribute("href"),Be=document.getElementById("root");s.a.render(r.a.createElement(i.a,{basename:Ae},r.a.createElement(f.a,{store:Le},r.a.createElement(Me,null))),Be),function(){if("serviceWorker"in navigator){if(new URL("/HereQuest",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/HereQuest","/service-worker.js");Se?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Pe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Pe(e)}))}}()},48:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.991bbe7f.chunk.js.map